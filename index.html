<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Is it Hamiltonian?</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Is it Hamiltonian?</h1>
    <p>
    Or rather, does it have a <a href="https://mathworld.wolfram.com/HamiltonianPath.html" target="_blank" rel="noopener">
    Hamiltonian path</a>?
    </p>
    <p>Enter an adjacency matrix (comma-separated rows) or generate a random adjaceny matrix with node count</p>
    <div>
        <button class="gen-btn" data-nodes="4">4</button>
        <button class="gen-btn" data-nodes="6">6</button>
        <button class="gen-btn" data-nodes="8">8</button>
        <button class="gen-btn" data-nodes="10">10</button>
    </div>
    <br>
    <textarea id="matrixInput">
1,0,0,0
0,1,0,0
0,0,1,0
0,0,0,1
        </textarea>
    <br />
    <label for="algorithmSelect">Select Algorithm:</label>
    <select id="algorithmSelect">
        <option value="dfs">DFS</option>
        <option value="exponential">Exponential</option>
        <option value="greedy">Greedy (Approx)</option>
        <option value="custom">Custom (User Script)</option>
    </select>

    <button id="checkButton">Check</button>
    <p id="result"></p>
    <p id="timeTaken"></p>
    <div id="customAlgoSection" style="display: none;">
        <h2>Custom Algo To Run (JS ONLY BOYS AND GIRLS)</h2>
        <p>You can write a function <code>customAlgo(matrix)</code> that returns <code>true</code> or <code>false</code>.</p>
        <textarea id="customAlgoInput">
function customAlgo(matrix) {
    // bad algo example - you have to use customAlgo definition above
    const n = matrix.length;
    const nodes = Array.from({ length: n }, (_, i) => i);

    function isHamiltonianPath(perm) {
        for (let i = 0; i < perm.length - 1; i++) {
            if (matrix[perm[i]][perm[i + 1]] !== 1) return false;
        }
        return true;
    }

    function* permutations(arr, l = 0) {
        if (l === arr.length - 1) {
            yield arr.slice();
        } else {
            for (let i = l; i < arr.length; i++) {
                [arr[l], arr[i]] = [arr[i], arr[l]];
                yield* permutations(arr, l + 1);
                [arr[l], arr[i]] = [arr[i], arr[l]];
            }
        }
    }

    for (const perm of permutations(nodes)) {
        if (isHamiltonianPath(perm)) return true;
    }

    return false;
}
        </textarea>
    </div>
    <h1>Batch Testing</h1>
    <button id="testDevButton">Test 100 Random Matrices</button>
    <pre id="batchTestResults"></pre>
    <script type="module" src="main.js"></script>
</body>
</html>
